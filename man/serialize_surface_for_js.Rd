% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ortho_viewer.R
\name{serialize_surface_for_js}
\alias{serialize_surface_for_js}
\title{Serialize a surface for use in surfviewjs}
\usage{
serialize_surface_for_js(
  surf,
  vol = NULL,
  colormap = "viridis",
  range = NULL,
  threshold = c(0, 0),
  opacity = 1
)
}
\arguments{
\item{surf}{A surface object from \code{neurosurf}: either a
\code{SurfaceGeometry}, \code{NeuroSurface}, or
\code{ColorMappedNeuroSurface}.}

\item{vol}{Optional volume for GPU-based projection. If provided and
\code{surf} is a bare \code{SurfaceGeometry}, the JS side will use
\code{VolumeProjectedSurface} for on-GPU mapping.}

\item{colormap}{Character: colormap name (e.g., \code{"viridis"}).}

\item{range}{Optional numeric vector of length 2: intensity range for
the colormap. If NULL, derived from the data.}

\item{threshold}{Numeric vector of length 2: values between
\code{threshold[1]} and \code{threshold[2]} are made transparent.}

\item{opacity}{Numeric: surface opacity from 0 to 1.}
}
\value{
A list with geometry, data, and display parameters for the
JS surface viewer.
}
\description{
Converts a \code{neurosurf} surface object into a plain list that
can be JSON-encoded and consumed by the JavaScript surface viewer.
Supports two pathways: pre-mapped data (from \code{ColorMappedNeuroSurface}
or \code{NeuroSurface}) and GPU projection (geometry + volume).
}
\keyword{internal}
