<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>NA • orthoviewer</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet"><script src="extra.js"></script><meta property="og:title" content="NA"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">orthoviewer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/orthoviewer-intro.html">Introduction to orthoviewer</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>NA</h1>

    </div>

<div class="section level2">
<h2 id="orthoviewer-project-plan">OrthoViewer Project Plan<a class="anchor" aria-label="anchor" href="#orthoviewer-project-plan"></a></h2>
<p>This plan coordinates work across three codebases: - <code>orthoviewer</code> (R package, current repo) – HTML widgets, Shiny integration, R-facing API. - <code>~/code/jscode/neuroimjs</code> – JavaScript core viewer + controls (orthogonal viewer, layer panel). - <code>~/code/neuroim2</code> – R-side neuroim data structures and volume serialization.</p>
<p>Progress is tracked in <code>Progress.md</code>; architecture is summarized in <code>Architecture.md</code>.</p>
<hr><div class="section level3">
<h3 id="phase-1--core-integration--wiring">Phase 1 — Core Integration &amp; Wiring<a class="anchor" aria-label="anchor" href="#phase-1--core-integration--wiring"></a></h3>
<ul class="task-list"><li>
<label><input type="checkbox">Define JS htmlwidget binding for the orthogonal viewer in <code>orthoviewer</code>:</label>
<ul><li>
<code>inst/htmlwidgets/ortho_viewer.js</code> factory with:
<ul><li>Ortho shell layout (sidebar + three‑pane viewer container).</li>
<li>Creation of <code>OrthogonalImageViewer</code> with <code>"left-tall"</code> layout.</li>
<li>Wiring of <code>layer-control-panel</code> to the <code>ImageLayer</code>.</li>
</ul></li>
</ul></li>
<li>
<label><input type="checkbox">Add R widget constructor and Shiny bindings in <code>orthoviewer</code>:</label>
<ul><li>
<code><a href="reference/ortho_viewer.html">ortho_viewer()</a></code> to initialize with a background volume.</li>
<li>
<code><a href="reference/ortho_viewerOutput.html">ortho_viewerOutput()</a></code> and <code><a href="reference/renderOrtho_viewer.html">renderOrtho_viewer()</a></code> for Shiny.</li>
</ul></li>
<li>
<label><input type="checkbox">Implement R→JS proxy API in <code>orthoviewer</code>:</label>
<ul><li>
<code><a href="reference/ortho_proxy.html">ortho_proxy()</a></code> R6 class with methods:
<ul><li>
<code>add_layer()</code>, <code>set_window()</code>, <code>set_threshold()</code>, <code>set_colormap()</code>, <code>set_opacity()</code>.</li>
</ul></li>
<li>Proxies send <code>session$sendCustomMessage("ortho-viewer-command", ...)</code>.</li>
</ul></li>
<li>
<label><input type="checkbox">Implement volume serialization utilities in <code>orthoviewer</code> or <code>neuroim2</code>:</label>
<ul><li>Convert R volume objects (from <code>neuroim2</code>) to JSON specs for <code>neuroimjs</code>.</li>
</ul></li>
</ul><hr></div>
<div class="section level3">
<h3 id="phase-2--js-viewer--panel-integration-neuroimjs">Phase 2 — JS Viewer &amp; Panel Integration (<code>neuroimjs</code>)<a class="anchor" aria-label="anchor" href="#phase-2--js-viewer--panel-integration-neuroimjs"></a></h3>
<ul class="task-list"><li>
<label><input type="checkbox"><strong>[neuroimjs]</strong> Ensure orthogonal viewer factory supports <code>"left-tall"</code> layout:</label>
<ul><li>Axial pane tall on the left; coronal + sagittal stacked on the right.</li>
</ul></li>
<li>
<label><input type="checkbox"><strong>[neuroimjs]</strong> Expose a clean JS API used by the widget:</label>
<ul><li>
<code>OrthogonalImageViewer.create({ container, imageLayer, options })</code>.</li>
<li>
<code>ImageLayer</code> / <code>VolStack</code> helpers for background + overlay layers.</li>
</ul></li>
<li>
<label><input type="checkbox"><strong>[neuroimjs]</strong> Integrate <code>&lt;layer-control-panel&gt;</code>:</label>
<ul><li>Accept an <code>imageLayer</code> reference.</li>
<li>Panel introspects available layers and colormaps and updates them via existing handlers.</li>
</ul></li>
<li>
<label><input type="checkbox"><strong>[neuroimjs]</strong> Verify threshold semantics:</label>
<ul><li>Confirm <code>ColorMap.buildLookupTable()</code> uses:
<ul><li>Values <code>&lt; low</code> or <code>&gt; high</code> → opaque.</li>
<li>
<code>low &lt; value &lt; high</code> → transparent.</li>
</ul></li>
</ul></li>
</ul><hr></div>
<div class="section level3">
<h3 id="phase-3--albers-inspired-theming">Phase 3 — Albers-Inspired Theming<a class="anchor" aria-label="anchor" href="#phase-3--albers-inspired-theming"></a></h3>
<ul class="task-list"><li>
<label><input type="checkbox" checked>Apply warm paper + ochre/teal theme to <code>ortho_viewer</code> shell in <code>orthoviewer</code>:</label>
<ul class="task-list"><li><label><input type="checkbox" checked>CSS for <code>.ortho-widget-root</code>, <code>.ortho-shell</code>, <code>.ortho-sidebar</code>, <code>.ortho-viewer-container</code>.</label></li>
<li><label><input type="checkbox">Flat planes, minimal borders, small uppercase labels.</label></li>
</ul></li>
<li>
<label><input type="checkbox"><strong>[neuroimjs]</strong> Update <code>LayerControlPanelLit.ts</code> styles:</label>
<ul><li>Replace <code>static styles = css\</code>…`` with Albers-inspired block (warm gradient, system UI font, scoped Shoelace tokens).</li>
<li>Ensure no behavior changes—style only.</li>
</ul></li>
<li>
<label><input type="checkbox">Optionally add threshold semantics caption in <code>layer-control-panel</code> template:</label>
<ul><li>“Values &lt; low or &gt; high are opaque; between low and high are transparent.”</li>
</ul></li>
</ul><hr></div>
<div class="section level3">
<h3 id="phase-4--r-api-polish--examples">Phase 4 — R API Polish &amp; Examples<a class="anchor" aria-label="anchor" href="#phase-4--r-api-polish--examples"></a></h3>
<ul class="task-list"><li>
<label><input type="checkbox">Finalize the <code>orthoviewer</code> R API:</label>
<ul><li>
<code>ortho_viewer(bg, bg_colormap = "greys")</code>.</li>
<li>Layer operations via <code><a href="reference/ortho_proxy.html">ortho_proxy()</a></code>:
<ul><li>
<code>p$add_layer(vol, thresh = c(-2, 2), colormap = "viridis")</code>.</li>
<li>
<code>p$set_window(c(0, 120))</code>, <code>p$set_threshold(c(-3, 3))</code>, <code>p$set_colormap("magma")</code>, etc.</li>
</ul></li>
</ul></li>
<li>
<label><input type="checkbox">Provide a minimal Shiny example in <code>orthoviewer</code>:</label>
<ul><li>Show background anatomy + one stat map.</li>
<li>Demonstrate real‑time tuning via JS panel, plus one or two R‑driven updates.</li>
</ul></li>
<li>
<label><input type="checkbox">Document usage in <code>orthoviewer</code> vignettes:</label>
<ul><li>Overview of the viewer, sidebar controls, and proxy API.</li>
<li>Short explanation of threshold/window semantics.</li>
</ul></li>
</ul><hr></div>
<div class="section level3">
<h3 id="phase-5--validation--refinement">Phase 5 — Validation &amp; Refinement<a class="anchor" aria-label="anchor" href="#phase-5--validation--refinement"></a></h3>
<ul class="task-list"><li>
<label><input type="checkbox">Validate round‑trip from <code>neuroim2</code> → <code>orthoviewer</code> → <code>neuroimjs</code>:</label>
<ul><li>Confirm dimensions, spacing, orientation and ranges are consistent.</li>
<li>Check that layers align across all three views (axial, coronal, sagittal).</li>
</ul></li>
<li>
<label><input type="checkbox">Performance tuning:</label>
<ul><li>Confirm responsive interaction for typical 3D volumes.</li>
<li>Assess behavior with multiple overlay layers.</li>
</ul></li>
<li>
<label><input type="checkbox">Visual polish:</label>
<ul><li>Adjust colors, spacing, and typography to keep the composition clean and minimal.</li>
<li>Optionally add viewer chrome (pane labels, subtle frames) consistent with the sidebar.</li>
</ul></li>
</ul></div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by First Last.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

